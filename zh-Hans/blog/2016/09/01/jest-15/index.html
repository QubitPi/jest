<!doctype html>
<html lang="zh-Hans" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Jest 15.0: New Defaults for Jest ¬∑ Jest</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://jest.qubitpi.org/zh-Hans/img/opengraph.png"><meta data-rh="true" name="twitter:image" content="https://jest.qubitpi.org/zh-Hans/img/opengraph.png"><meta data-rh="true" property="og:url" content="https://jest.qubitpi.org/zh-Hans/blog/2016/09/01/jest-15"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" property="og:locale:alternate" content="ja"><meta data-rh="true" property="og:locale:alternate" content="es_ES"><meta data-rh="true" property="og:locale:alternate" content="fr"><meta data-rh="true" property="og:locale:alternate" content="pt_BR"><meta data-rh="true" property="og:locale:alternate" content="ro"><meta data-rh="true" property="og:locale:alternate" content="ru"><meta data-rh="true" property="og:locale:alternate" content="uk"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Jest 15.0: New Defaults for Jest ¬∑ Jest"><meta data-rh="true" name="description" content="We spent the past year making Jest faster, easier to configure, added tons of features and built snapshot testing. However, there were two areas where we invested very little we can move fast and improve the framework for Facebook and the open source community at light-speed. Jest&#x27;s goal is to come with batteries included and to require as little configuration as necessary. We recently got a chance to explain our philosophy on a create-react-app issue."><meta data-rh="true" property="og:description" content="We spent the past year making Jest faster, easier to configure, added tons of features and built snapshot testing. However, there were two areas where we invested very little we can move fast and improve the framework for Facebook and the open source community at light-speed. Jest&#x27;s goal is to come with batteries included and to require as little configuration as necessary. We recently got a chance to explain our philosophy on a create-react-app issue."><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2016-09-01T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/cpojer"><link data-rh="true" rel="icon" href="/zh-Hans/img/favicon/favicon.ico"><link data-rh="true" rel="canonical" href="https://jest.qubitpi.org/zh-Hans/blog/2016/09/01/jest-15"><link data-rh="true" rel="alternate" href="https://jest.qubitpi.org/blog/2016/09/01/jest-15" hreflang="en"><link data-rh="true" rel="alternate" href="https://jest.qubitpi.org/ja/blog/2016/09/01/jest-15" hreflang="ja"><link data-rh="true" rel="alternate" href="https://jest.qubitpi.org/es-ES/blog/2016/09/01/jest-15" hreflang="es-ES"><link data-rh="true" rel="alternate" href="https://jest.qubitpi.org/fr/blog/2016/09/01/jest-15" hreflang="fr"><link data-rh="true" rel="alternate" href="https://jest.qubitpi.org/pt-BR/blog/2016/09/01/jest-15" hreflang="pt-BR"><link data-rh="true" rel="alternate" href="https://jest.qubitpi.org/ro/blog/2016/09/01/jest-15" hreflang="ro"><link data-rh="true" rel="alternate" href="https://jest.qubitpi.org/ru/blog/2016/09/01/jest-15" hreflang="ru"><link data-rh="true" rel="alternate" href="https://jest.qubitpi.org/uk/blog/2016/09/01/jest-15" hreflang="uk"><link data-rh="true" rel="alternate" href="https://jest.qubitpi.org/zh-Hans/blog/2016/09/01/jest-15" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://jest.qubitpi.org/blog/2016/09/01/jest-15" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://HP439UUSOL-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://jest.qubitpi.org/zh-Hans/blog/2016/09/01/jest-15","mainEntityOfPage":"https://jest.qubitpi.org/zh-Hans/blog/2016/09/01/jest-15","url":"https://jest.qubitpi.org/zh-Hans/blog/2016/09/01/jest-15","headline":"Jest 15.0: New Defaults for Jest","name":"Jest 15.0: New Defaults for Jest","description":"We spent the past year making Jest faster, easier to configure, added tons of features and built snapshot testing. However, there were two areas where we invested very little we can move fast and improve the framework for Facebook and the open source community at light-speed. Jest's goal is to come with batteries included and to require as little configuration as necessary. We recently got a chance to explain our philosophy on a create-react-app issue.","datePublished":"2016-09-01T00:00:00.000Z","author":{"@type":"Person","name":"Christoph Nakazawa","url":"https://github.com/cpojer","image":"https://github.com/cpojer.png"},"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://jest.qubitpi.org/zh-Hans/blog","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/zh-Hans/blog/rss.xml" title="Jest RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/zh-Hans/blog/atom.xml" title="Jest Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-44373548-17"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-44373548-17",{})</script>



<link rel="search" type="application/opensearchdescription+xml" title="Jest" href="/zh-Hans/opensearch.xml">

<link rel="icon" href="/zh-Hans/img/jest.png">
<link rel="manifest" href="/zh-Hans/manifest.json">
<meta name="theme-color" content="#FFF">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#000">
<link rel="apple-touch-icon" href="/zh-Hans/img/jest.png">
<link rel="mask-icon" href="/zh-Hans/img/jest.svg" color="#15c213">
<meta name="msapplication-TileImage" content="/zh-Hans/img/jest.png">
<meta name="msapplication-TileColor" content="#000"><link rel="stylesheet" href="/zh-Hans/assets/css/styles.d3877b04.css">
<script src="/zh-Hans/assets/js/runtime~main.097e7899.js" defer="defer"></script>
<script src="/zh-Hans/assets/js/main.3ee827b9.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Ë∑≥Âà∞‰∏ªË¶ÅÂÜÖÂÆπ"><a class="skipToContent_oPtH" href="#__docusaurus_skipToContent_fallback">Ë∑≥Âà∞‰∏ªË¶ÅÂÜÖÂÆπ</a></div><div class="announcementBar_zJRd" style="background-color:#20232a;color:#fff" role="banner"><div class="content_bSb_ announcementBarContent_t7IR">Support Ukraine üá∫üá¶ <a target="_blank" rel="noopener noreferrer" href="https://opensource.facebook.com/support-ukraine"> Help Provide Humanitarian Aid to Ukraine</a>.</div></div><nav aria-label="‰∏ªÂØºËà™" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="ÂàáÊç¢ÂØºËà™Ê†è" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zh-Hans/"><b class="navbar__title text--truncate">Jest</b></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/zh-Hans/docs/getting-started">29.7</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/zh-Hans/docs/next/getting-started">Next</a></li><li><a class="dropdown__link" href="/zh-Hans/docs/getting-started">29.7</a></li><li><a class="dropdown__link" href="/zh-Hans/docs/29.6/getting-started">29.6</a></li><li><a class="dropdown__link" href="/zh-Hans/docs/29.5/getting-started">29.5</a></li><li><a class="dropdown__link" href="/zh-Hans/docs/29.4/getting-started">29.4</a></li><li><a href="https://jest-archive-august-2023.netlify.app/docs/29.3/getting-started/" target="_blank" rel="noopener noreferrer" class="dropdown__link">29.3<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://jest-archive-august-2023.netlify.app/docs/29.2/getting-started/" target="_blank" rel="noopener noreferrer" class="dropdown__link">29.2<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://jest-archive-august-2023.netlify.app/docs/29.1/getting-started/" target="_blank" rel="noopener noreferrer" class="dropdown__link">29.1<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://jest-archive-august-2023.netlify.app/docs/29.0/getting-started/" target="_blank" rel="noopener noreferrer" class="dropdown__link">29.0<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://jest-archive-august-2023.netlify.app/docs/28.x/getting-started/" target="_blank" rel="noopener noreferrer" class="dropdown__link">28.x<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://jest-archive-august-2023.netlify.app/docs/27.x/getting-started/" target="_blank" rel="noopener noreferrer" class="dropdown__link">27.x<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://jest-archive-august-2023.netlify.app/docs/26.x/getting-started/" target="_blank" rel="noopener noreferrer" class="dropdown__link">26.x<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://jest-archive-august-2023.netlify.app/docs/25.x/getting-started/" target="_blank" rel="noopener noreferrer" class="dropdown__link">25.x<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://archive.jestjs.io/docs/en/24.x/getting-started.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">24.x<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://archive.jestjs.io/docs/en/23.x/getting-started.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">23.x<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://archive.jestjs.io/docs/en/22.x/getting-started.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">22.x<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a class="dropdown__link" href="/zh-Hans/versions">All versions</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/zh-Hans/docs/getting-started">Docs</a><a class="navbar__item navbar__link" href="/zh-Hans/docs/api">API</a><a class="navbar__item navbar__link" href="/zh-Hans/help">Help</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/zh-Hans/blog">Blog</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_kvP7"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>ÁÆÄ‰Ωì‰∏≠Êñá</a><ul class="dropdown__menu"><li><a href="/blog/2016/09/01/jest-15" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/ja/blog/2016/09/01/jest-15" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">Êó•Êú¨Ë™û</a></li><li><a href="/es-ES/blog/2016/09/01/jest-15" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es-ES">Espa√±ol</a></li><li><a href="/fr/blog/2016/09/01/jest-15" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fr">Fran√ßais</a></li><li><a href="/pt-BR/blog/2016/09/01/jest-15" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="pt-BR">Portugu√™s (Brasil)</a></li><li><a href="/ro/blog/2016/09/01/jest-15" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ro">Rom√¢nƒÉ</a></li><li><a href="/ru/blog/2016/09/01/jest-15" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ru">–†—É—Å—Å–∫–∏–π</a></li><li><a href="/uk/blog/2016/09/01/jest-15" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="uk">–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞</a></li><li><a href="/zh-Hans/blog/2016/09/01/jest-15" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh-Hans">ÁÆÄ‰Ωì‰∏≠Êñá</a></li></ul></div><a href="https://github.com/jestjs/jest" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_ki11 colorModeToggle_Hewu"><button class="clean-btn toggleButton_MMFG toggleButtonDisabled_Uw7m" type="button" disabled="" title="ÂàáÊç¢ÊµÖËâ≤/ÊöóÈªëÊ®°ÂºèÔºàÂΩìÂâç‰∏∫ÊµÖËâ≤Ê®°ÂºèÔºâ" aria-label="ÂàáÊç¢ÊµÖËâ≤/ÊöóÈªëÊ®°ÂºèÔºàÂΩìÂâç‰∏∫ÊµÖËâ≤Ê®°ÂºèÔºâ" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_lgto"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_U96C"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_bzqh"><button type="button" class="DocSearch DocSearch-Button" aria-label="ÊêúÁ¥¢ (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">ÊêúÁ¥¢</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_MB5r"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_CLW8 thin-scrollbar" aria-label="ÊúÄËøëÂçöÊñáÂØºËà™"><div class="sidebarItemTitle_DQfJ margin-bottom--md">Recent posts</div><div role="group"><h3 class="yearGroupHeading_jjLT">2022</h3><ul class="sidebarItemList_rvuc clean-list"><li class="sidebarItem__RMN"><a class="sidebarItemLink_Ony9" href="/zh-Hans/blog/2022/08/25/jest-29">Jest 29: Snapshot format changes</a></li><li class="sidebarItem__RMN"><a class="sidebarItemLink_Ony9" href="/zh-Hans/blog/2022/05/11/jest-joins-openjs">Jest joins OpenJS Foundation</a></li><li class="sidebarItem__RMN"><a class="sidebarItemLink_Ony9" href="/zh-Hans/blog/2022/04/25/jest-28">Jest 28: Shedding weight and improving compatibility ü´∂</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_jjLT">2021</h3><ul class="sidebarItemList_rvuc clean-list"><li class="sidebarItem__RMN"><a class="sidebarItemLink_Ony9" href="/zh-Hans/blog/2021/05/25/jest-27">Jest 27: New Defaults for Jest, 2021 edition ‚è©</a></li><li class="sidebarItem__RMN"><a class="sidebarItemLink_Ony9" href="/zh-Hans/blog/2021/03/09/jest-website-upgrade">Jest Website Upgrade</a></li></ul></div></nav></aside><main class="col col--7"><article class=""><header><h1 class="title_Kdtz">Jest 15.0: New Defaults for Jest</h1><div class="container_iZB2 margin-vert--md"><time datetime="2016-09-01T00:00:00.000Z">2016Âπ¥9Êúà1Êó•</time> ¬∑ <!-- -->ÈòÖËØªÈúÄ 8 ÂàÜÈíü</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_v1VX"><div class="avatar margin-bottom--sm"><a href="https://github.com/cpojer" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_kSUf" src="https://github.com/cpojer.png" alt="Christoph Nakazawa"></a><div class="avatar__intro authorDetails_W4s3"><div class="avatar__name"><a href="https://github.com/cpojer" target="_blank" rel="noopener noreferrer"><span class="authorName_Tejg">Christoph Nakazawa</span></a></div><div class="authorSocials_VbIH"><a href="https://github.com/cpojer" target="_blank" rel="noopener noreferrer" class="authorSocialLink_z7dA" title="GitHub"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 256 250" preserveAspectRatio="xMidYMid" style="--dark:#000;--light:#fff" class="authorSocialLink_z7dA githubSvg_B2WL"><path d="M128.001 0C57.317 0 0 57.307 0 128.001c0 56.554 36.676 104.535 87.535 121.46 6.397 1.185 8.746-2.777 8.746-6.158 0-3.052-.12-13.135-.174-23.83-35.61 7.742-43.124-15.103-43.124-15.103-5.823-14.795-14.213-18.73-14.213-18.73-11.613-7.944.876-7.78.876-7.78 12.853.902 19.621 13.19 19.621 13.19 11.417 19.568 29.945 13.911 37.249 10.64 1.149-8.272 4.466-13.92 8.127-17.116-28.431-3.236-58.318-14.212-58.318-63.258 0-13.975 5-25.394 13.188-34.358-1.329-3.224-5.71-16.242 1.24-33.874 0 0 10.749-3.44 35.21 13.121 10.21-2.836 21.16-4.258 32.038-4.307 10.878.049 21.837 1.47 32.066 4.307 24.431-16.56 35.165-13.12 35.165-13.12 6.967 17.63 2.584 30.65 1.255 33.873 8.207 8.964 13.173 20.383 13.173 34.358 0 49.163-29.944 59.988-58.447 63.157 4.591 3.972 8.682 11.762 8.682 23.704 0 17.126-.148 30.91-.148 35.126 0 3.407 2.304 7.398 8.792 6.14C219.37 232.5 256 184.537 256 128.002 256 57.307 198.691 0 128.001 0Zm-80.06 182.34c-.282.636-1.283.827-2.194.39-.929-.417-1.45-1.284-1.15-1.922.276-.655 1.279-.838 2.205-.399.93.418 1.46 1.293 1.139 1.931Zm6.296 5.618c-.61.566-1.804.303-2.614-.591-.837-.892-.994-2.086-.375-2.66.63-.566 1.787-.301 2.626.591.838.903 1 2.088.363 2.66Zm4.32 7.188c-.785.545-2.067.034-2.86-1.104-.784-1.138-.784-2.503.017-3.05.795-.547 2.058-.055 2.861 1.075.782 1.157.782 2.522-.019 3.08Zm7.304 8.325c-.701.774-2.196.566-3.29-.49-1.119-1.032-1.43-2.496-.726-3.27.71-.776 2.213-.558 3.315.49 1.11 1.03 1.45 2.505.701 3.27Zm9.442 2.81c-.31 1.003-1.75 1.459-3.199 1.033-1.448-.439-2.395-1.613-2.103-2.626.301-1.01 1.747-1.484 3.207-1.028 1.446.436 2.396 1.602 2.095 2.622Zm10.744 1.193c.036 1.055-1.193 1.93-2.715 1.95-1.53.034-2.769-.82-2.786-1.86 0-1.065 1.202-1.932 2.733-1.958 1.522-.03 2.768.818 2.768 1.868Zm10.555-.405c.182 1.03-.875 2.088-2.387 2.37-1.485.271-2.861-.365-3.05-1.386-.184-1.056.893-2.114 2.376-2.387 1.514-.263 2.868.356 3.061 1.403Z"></path></svg></a><a href="https://x.com/cpojer" target="_blank" rel="noopener noreferrer" class="authorSocialLink_z7dA" title="X"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 1200 1227" style="--dark:#000;--light:#fff" class="authorSocialLink_z7dA xSvg_SgKn"><path d="M714.163 519.284 1160.89 0h-105.86L667.137 450.887 357.328 0H0l468.492 681.821L0 1226.37h105.866l409.625-476.152 327.181 476.152H1200L714.137 519.284h.026ZM569.165 687.828l-47.468-67.894-377.686-540.24h162.604l304.797 435.991 47.468 67.894 396.2 566.721H892.476L569.165 687.854v-.026Z"></path></svg></a></div></div></div></div></div></header><div id="__blog-post-container" class="markdown"><p>We spent the past year making Jest <a href="/zh-Hans/blog/2016/03/11/javascript-unit-testing-performance">faster</a>, <a href="/zh-Hans/blog/2016/04/12/jest-11">easier to configure</a>, <a href="/zh-Hans/blog/2016/06/22/jest-13">added tons of features</a> and built <a href="/zh-Hans/blog/2016/07/27/jest-14">snapshot testing</a>. However, there were two areas where we invested very little: the CLI output and user experience. With Jest 15 we are changing the framework radically to make it easier to use both for beginners and experienced users. We are excited that our investment in Jest is now paying off: we can move fast and improve the framework for Facebook and the open source community at light-speed. Jest&#x27;s goal is to come with batteries included and to require as little configuration as necessary. We recently got a chance to explain our philosophy on a <a href="https://github.com/facebookincubator/create-react-app/pull/250#issuecomment-237098619" target="_blank" rel="noopener noreferrer">create-react-app issue</a>.</p>
<p>The most important change to talk about is a set of <a href="https://github.com/jestjs/jest/pull/1511" target="_blank" rel="noopener noreferrer">new defaults</a>. If you are an existing Jest user you will very likely need to update your configuration for Jest 15. In most cases it will simplify your setup and Jest will provide useful error messages during the upgrade. All of the new defaults can be disabled to suit your needs, but we still consider the disabled features critical for Jest in certain situations and will continue to use and support them at Facebook long-term. Our <a href="/zh-Hans/docs/api">API documentation</a> was also completely rewritten to reflect these changes. <a href="https://github.com/facebook/react/pull/7625/files" target="_blank" rel="noopener noreferrer">This pull request for React</a> highlights some of the changes necessary for existing projects.</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="new-cli-error-messages-and-summaries">New CLI error messages and summaries<a href="#new-cli-error-messages-and-summaries" class="hash-link" aria-label="New CLI error messages and summariesÁöÑÁõ¥Êé•ÈìæÊé•" title="New CLI error messages and summariesÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h2>
<p>As part of our effort to remove Jasmine incrementally within Jest, replacing all Jasmine matchers was almost completed. A lot of time was spent tweaking every error message for every matcher to give the best signal to users when a test is failing ‚Äì the time when Jest should provide the most value to you. In addition to printing the expected and received values, a diff is printed for the <code>toBe</code> and <code>toEqual</code> matchers to help spot mistakes. More colors were added and relevant files from stack traces are highlighted more prominently.</p>
<p>Here is a comparison of the before and after on a light terminal: <img decoding="async" loading="lazy" alt="failure1" src="/zh-Hans/assets/images/15-failure1-18a216b24eb5641ffe2f700795be8738.png" width="2414" height="1422" class="img_SS3x"> It also works well with darker colors: <img decoding="async" loading="lazy" alt="failure2" src="/zh-Hans/assets/images/15-failure2-0638fb4e0e8ef964763fab8c4bebd23c.png" width="2442" height="850" class="img_SS3x"></p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="new-watch-command">New watch command<a href="#new-watch-command" class="hash-link" aria-label="New watch commandÁöÑÁõ¥Êé•ÈìæÊé•" title="New watch commandÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h2>
<p>We completely rewrote <code>jest --watch</code> to be more interactive. It can now switch between running all tests or only test files related to changed files by pressing <code>a</code> or <code>o</code>. By pressing <code>p</code> a prompt appears that allows to specify a test pattern to focus on a specific set of files. Snapshot tests can be updated by pressing <code>u</code>.</p>
<p><img decoding="async" loading="lazy" alt="watch" src="/zh-Hans/assets/images/15-watch-951ac33b263d3ee8522e35b8836b1f88.gif" width="858" height="575" class="img_SS3x"></p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="jest-react-native-improvements">jest-react-native improvements<a href="#jest-react-native-improvements" class="hash-link" aria-label="jest-react-native improvementsÁöÑÁõ¥Êé•ÈìæÊé•" title="jest-react-native improvementsÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h2>
<p>Mocks for <code>ListView</code>, <code>TextInput</code>, <code>ActivityIndicator</code>, <code>ScrollView</code> and more were added. The existing mocks were updated to use the real implementations and existing snapshots likely have to be updated when upgrading to Jest 15. A <code>mockComponent</code> function was added to <code>jest-react-native</code> that can be used to mock native components:</p>
<div class="language-js codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f6f6"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-js codeBlock_RMoD thin-scrollbar" style="color:#393A34;background-color:#f6f6f6"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#393A34"><span class="token plain">jest</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#6b2e85">mock</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#c21325">&#x27;MyNativeComponent&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#888">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#297a29">const</span><span class="token plain"> jestReactNative </span><span class="token operator" style="color:#888">=</span><span class="token plain"> </span><span class="token function" style="color:#6b2e85">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#c21325">&#x27;jest-react-native&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#297a29">return</span><span class="token plain"> jestReactNative</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#6b2e85">mockComponent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#c21325">&#x27;MyNativeComponent&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Â§çÂà∂‰ª£Á†ÅÂà∞Ââ™Ë¥¥Êùø" title="Â§çÂà∂" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>There have also been a number of improvements around mocking images, the fetch module and other native APIs.</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="buffered-console-messages">Buffered Console Messages<a href="#buffered-console-messages" class="hash-link" aria-label="Buffered Console MessagesÁöÑÁõ¥Êé•ÈìæÊé•" title="Buffered Console MessagesÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h2>
<p>Jest parallelizes test runs across workers to maximize performance. Previously Jest used to forward console messages from workers to the parent and printed them immediately. When running multiple tests in parallel, it was often hard to find out which test and which module was calling a log function. In Jest 15, all console messages are buffered and printed together with individual test results. In addition the file and line number of the log call is printed so the code can easily be inspected.</p>
<p>Compare the output of the previous version of Jest and Jest 15: <img decoding="async" loading="lazy" alt="console" src="/zh-Hans/assets/images/15-console-5050b2c2d39cedc5bff49baa56bb78a3.png" width="2358" height="1162" class="img_SS3x"></p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="disabled-automocking">Disabled Automocking<a href="#disabled-automocking" class="hash-link" aria-label="Disabled AutomockingÁöÑÁõ¥Êé•ÈìæÊé•" title="Disabled AutomockingÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h2>
<p>Automocking is now disabled by default in Jest. This is by far the most confusing feature for new users and in many ways it doesn&#x27;t make sense for small projects. We introduced automocking at Facebook and it worked great for us when unit testing was adopted in a large existing code base with few existing tests, but over time it felt like people spent more time fighting with mocked/unmocked modules than it would have taken them to write a test normally. We also noticed that library authors often require a huge number of basic modules that always have to be manually unmocked. Even for Jest itself we realized that the majority of tests had automocking disabled manually. We still believe that explicit automocking can be incredibly valuable. This change simply trades implicit mocks for explicit mocks via calls to <code>jest.mock(moduleName)</code>.</p>
<p>If you would still like to use automocking by default, enable the <code>automock</code> setting in your configuration or manually call <code>jest.enableAutomock()</code> in your test or setup file.</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="test-file-patterns">Test File Patterns<a href="#test-file-patterns" class="hash-link" aria-label="Test File PatternsÁöÑÁõ¥Êé•ÈìæÊé•" title="Test File PatternsÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h2>
<p>Not everyone uses the same convention of using a <code>__tests__</code> folder to store tests. Jest 15 also looks for files ending in <code>.spec.js</code> or <code>.test.js</code>, two popular community standards. Jest 15 also removes the <code>testDirectoryName</code> and <code>testFileExtensions</code> configuration options and asks users to switch to the <code>testRegex</code> option when the old configuration options are used.</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="module-registry-persistence">Module Registry Persistence<a href="#module-registry-persistence" class="hash-link" aria-label="Module Registry PersistenceÁöÑÁõ¥Êé•ÈìæÊé•" title="Module Registry PersistenceÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h2>
<p>Jest used to implicitly reset all modules before each test and we recommended requiring modules in <code>beforeEach</code> or inside of tests. This is useful when modules have local state that shouldn&#x27;t be shared between tests. However, two big shifts happened: ES modules with the top-level <code>import</code> syntax and a renewed interest in writing stateless functional modules.</p>
<p>This has lead to numerous incompatibilities. We also noticed that at Facebook we weren&#x27;t even using this implicit reset. Instead we relied on explicit calls to <code>jest.resetModules()</code> which puts engineers in control on when to wipe away all state.</p>
<p>Here is an example:</p>
<div class="language-js codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f6f6"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-js codeBlock_RMoD thin-scrollbar" style="color:#393A34;background-color:#f6f6f6"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#297a29">const</span><span class="token plain"> </span><span class="token maybe-class-name">React1</span><span class="token plain"> </span><span class="token operator" style="color:#888">=</span><span class="token plain"> </span><span class="token function" style="color:#6b2e85">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#c21325">&#x27;react&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">jest</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#6b2e85">resetModules</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#297a29">const</span><span class="token plain"> </span><span class="token maybe-class-name">React2</span><span class="token plain"> </span><span class="token operator" style="color:#888">=</span><span class="token plain"> </span><span class="token function" style="color:#6b2e85">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#c21325">&#x27;react&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">React1</span><span class="token plain"> </span><span class="token operator" style="color:#888">!==</span><span class="token plain"> </span><span class="token maybe-class-name">React2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// These two are separate copies of React.</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Â§çÂà∂‰ª£Á†ÅÂà∞Ââ™Ë¥¥Êùø" title="Â§çÂà∂" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The call to <code>resetModules</code> wipes away the require cache. A second call to require the same module will result in a new instantiation of the same module and all of its dependencies. This feature is especially useful when dealing with modules that have side effects, like <a href="https://github.com/jestjs/jest/blob/3bbf32a239fc4aad8cc6928a787f235bd86fecac/packages/jest-haste-map/src/__tests__/index-test.js#L64" target="_blank" rel="noopener noreferrer">jest-haste-map</a>.</p>
<p>We believe it is better to put users in control so we disabled the implicit reset. Modules can be reset using <code>jest.resetModules()</code> in code and the <code>resetModules</code> option can be enabled in the configuration to bring back the previous behavior.</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="real-vs-fake-timers">Real vs Fake Timers<a href="#real-vs-fake-timers" class="hash-link" aria-label="Real vs Fake TimersÁöÑÁõ¥Êé•ÈìæÊé•" title="Real vs Fake TimersÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h2>
<p>By default Jest used to mock all timer functions like <code>setTimeout</code> or <code>process.nextTick</code> and provided an API <code>jest.runAllTimers()</code> to advance timers programatically. This is useful when a piece of code sets a long timeout that we don&#x27;t want to wait for in a test.</p>
<p>However we found that most of the time the use cases are quite isolated. <a href="/zh-Hans/docs/tutorial-async">Async programming</a> has also become much simpler in our test runner. Jest now uses the real timers by default.</p>
<p>You can still override this by specifying <code>&quot;timers&quot;: &quot;fake&quot;</code> in the configuration or by calling <code>jest.useRealTimers()</code> and <code>jest.useFakeTimers()</code> global switches.</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="setupenvscriptfile-vs-setupfiles">setupEnvScriptFile vs setupFiles<a href="#setupenvscriptfile-vs-setupfiles" class="hash-link" aria-label="setupEnvScriptFile vs setupFilesÁöÑÁõ¥Êé•ÈìæÊé•" title="setupEnvScriptFile vs setupFilesÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h2>
<p>The <code>setupEnvScriptFile</code> configuration option has been deprecated for a while. Jest 15 removes it completely and replaces it with <code>setupFiles</code>. This option expects an array of file paths that are loaded in order before a test file is executed.</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="rewritten-code-coverage-support">Rewritten Code Coverage Support<a href="#rewritten-code-coverage-support" class="hash-link" aria-label="Rewritten Code Coverage SupportÁöÑÁõ¥Êé•ÈìæÊé•" title="Rewritten Code Coverage SupportÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h2>
<p>Code coverage in Jest can be used through <code>jest --coverage</code> and requires no additional packages or configuration. Code coverage support was completely rewritten and a new <code>collectCoverageFrom</code> option was added to collect code coverage information from entire projects, including <strong>untested files</strong>. Note that this option uses globs as we are hoping to further simplify configuration options in the future and provide a simpler alternative to regular expressions. See Jest&#x27;s <a href="https://github.com/jestjs/jest/blob/9088f6517813f6c089cf52e980d6579511dcde88/package.json#L47" target="_blank" rel="noopener noreferrer">package.json</a> for an example.</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="other-improvements">Other Improvements<a href="#other-improvements" class="hash-link" aria-label="Other ImprovementsÁöÑÁõ¥Êé•ÈìæÊé•" title="Other ImprovementsÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h2>
<p>A huge number of other improvements were also made:</p>
<ul>
<li>Improved performance of small test runs.</li>
<li>Jest now uses verbose mode when only a single test file is executed.</li>
<li>Added an <code>--env</code> option to override the configured test environment.</li>
<li><code>moduleNameMapper</code> now uses a resolution algorithm.</li>
<li>Jest now works with paths that have special characters in them, like parenthesis.</li>
<li>Added <code>global.global</code> to the node environment.</li>
<li>Fixed <code>babel-plugin-jest-hoist</code>&#x27;s invalid error when a random user function was called <code>mock</code>.</li>
<li>Fix <code>testEnvironment</code> resolution to prefer <code>jest-environment-{name}</code> instead of <code>{name}</code> only. This prevents a module collision when using <code>jsdom</code> as test environment.</li>
<li>Improvements to Jest&#x27;s own test infra by merging integration and unit tests. Code coverage is now collected for Jest.</li>
</ul>
<p>We are happy when looking back at all the changes we have made together with the help from the community and couldn&#x27;t be more excited to make Jest even better over the course of the next few months. Please <a href="https://github.com/jestjs/jest/issues" target="_blank" rel="noopener noreferrer">file an issue</a> if something isn&#x27;t working as expected and send us pull requests.</p>
<p>Next up: <a href="https://github.com/jestjs/jest/pull/1480" target="_blank" rel="noopener noreferrer">Concurrent Reporter</a>.</p></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><a href="https://github.com/jestjs/jest/tree/main/website/blog/2016-09-01-jest-15.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_bHB7" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>ÁºñËæëÊ≠§È°µ</a></div><div class="col lastUpdated_ydrU"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="ÂçöÊñáÂàÜÈ°µÂØºËà™"><a class="pagination-nav__link pagination-nav__link--prev" href="/zh-Hans/blog/2016/10/03/jest-16"><div class="pagination-nav__sublabel">ËæÉÊñ∞‰∏ÄÁØá</div><div class="pagination-nav__label">Jest 16.0: Turbocharged CLI &amp; Community Update</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/zh-Hans/blog/2016/07/27/jest-14"><div class="pagination-nav__sublabel">ËæÉÊóß‰∏ÄÁØá</div><div class="pagination-nav__label">Jest 14.0: React Tree Snapshot Testing</div></a></nav></main><div class="col col--2"><div class="tableOfContents_XG6w thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#new-cli-error-messages-and-summaries" class="table-of-contents__link toc-highlight">New CLI error messages and summaries</a></li><li><a href="#new-watch-command" class="table-of-contents__link toc-highlight">New watch command</a></li><li><a href="#jest-react-native-improvements" class="table-of-contents__link toc-highlight">jest-react-native improvements</a></li><li><a href="#buffered-console-messages" class="table-of-contents__link toc-highlight">Buffered Console Messages</a></li><li><a href="#disabled-automocking" class="table-of-contents__link toc-highlight">Disabled Automocking</a></li><li><a href="#test-file-patterns" class="table-of-contents__link toc-highlight">Test File Patterns</a></li><li><a href="#module-registry-persistence" class="table-of-contents__link toc-highlight">Module Registry Persistence</a></li><li><a href="#real-vs-fake-timers" class="table-of-contents__link toc-highlight">Real vs Fake Timers</a></li><li><a href="#setupenvscriptfile-vs-setupfiles" class="table-of-contents__link toc-highlight">setupEnvScriptFile vs setupFiles</a></li><li><a href="#rewritten-code-coverage-support" class="table-of-contents__link toc-highlight">Rewritten Code Coverage Support</a></li><li><a href="#other-improvements" class="table-of-contents__link toc-highlight">Other Improvements</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/zh-Hans/docs/getting-started">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/zh-Hans/docs/snapshot-testing">Guides</a></li><li class="footer__item"><a class="footer__link-item" href="/zh-Hans/docs/api">API Reference</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/jestjs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.reactiflux.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Reactiflux<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/jestjs_" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/zh-Hans/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/jestjs/jest" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/jestjs_" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://opensource.facebook.com/legal/privacy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/terms/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://openjsf.org/" rel="noopener noreferrer" class="footerLogoLink_tutC"><img src="/zh-Hans/img/openjs_foundation-logo-horizontal-color-dark_background.svg" alt="OpenJS Foundation Logo" class="footer__logo themedComponent_siVc themedComponent--light_hHel"><img src="/zh-Hans/img/openjs_foundation-logo-horizontal-color-dark_background.svg" alt="OpenJS Foundation Logo" class="footer__logo themedComponent_siVc themedComponent--dark_yETr"></a></div><div class="footer__copyright"><p>Copyright <a href="https://openjsf.org">OpenJS Foundation</a> and Jest contributors. All rights reserved. The <a href="https://openjsf.org">OpenJS Foundation</a> has registered trademarks and uses trademarks.  For a list of trademarks of the <a href="https://openjsf.org">OpenJS Foundation</a>, please see our <a href="https://trademark-policy.openjsf.org">Trademark Policy</a> and <a href="https://trademark-list.openjsf.org">Trademark List</a>.  Trademarks and logos not indicated on the <a href="https://trademark-list.openjsf.org">list of OpenJS Foundation trademarks</a> are trademarks&trade; or registered&reg; trademarks of their respective holders. Use of them does not imply any affiliation with or endorsement by them.</p>
<p><a href="https://openjsf.org">The OpenJS Foundation</a> | <a href="https://terms-of-use.openjsf.org">Terms of Use</a> | <a href="https://privacy-policy.openjsf.org">Privacy Policy</a> | <a href="https://bylaws.openjsf.org">Bylaws</a> | <a href="https://code-of-conduct.openjsf.org">Code of Conduct</a> | <a href="https://trademark-policy.openjsf.org">Trademark Policy</a> | <a href="https://trademark-list.openjsf.org">Trademark List</a> | <a href="https://www.linuxfoundation.org/cookies">Cookie Policy</a></p>Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>